{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fujitsu\\\\iss_test\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport './css/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      redirect: false,\n      username: '',\n      password: ''\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      this.props.logIn({\n        username,\n        password\n      }, () => {\n        this.setState({\n          redirect: true\n        });\n      });\n    };\n\n    this.handleChange = e => {\n      const value = e.currentTarget.value;\n      const fieldName = e.currentTarget.dataset.fieldName;\n      console.log(fieldName);\n      this.setState(prev => ({ ...prev,\n        [fieldName]: value\n      }));\n    };\n  }\n\n  render() {\n    const {\n      errorMsg\n    } = this.props;\n    const {\n      username,\n      password,\n      redirect\n    } = this.state;\n\n    if (redirect) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: '/list'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginFormStyle\",\n      children: [errorMsg && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"formStyle\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-field-name\": 'username',\n          type: 'text',\n          onChange: this.handleChange,\n          placeholder: 'Имя',\n          value: username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-field-name\": 'password',\n          type: 'text',\n          onChange: this.handleChange,\n          placeholder: 'Пароль',\n          value: password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","Navigate","Login","Component","state","redirect","username","password","handleSubmit","e","preventDefault","props","logIn","setState","handleChange","value","currentTarget","fieldName","dataset","console","log","prev","render","errorMsg"],"sources":["C:/Users/Fujitsu/iss_test/src/components/Login/Login.js"],"sourcesContent":["import React from 'react'\nimport { Navigate } from 'react-router-dom'\nimport './css/login.css'\n\nclass Login extends React.Component {\n    state = {\n        redirect: false,\n        username: '',\n        password: '',\n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n        const { username, password } = this.state\n        this.props.logIn(\n            {\n                username,\n                password,\n            },\n            () => {\n                this.setState({ redirect: true })\n            }\n        )\n    }\n\n    handleChange = e => {\n        const value = e.currentTarget.value\n        const fieldName = e.currentTarget.dataset.fieldName\n        console.log(fieldName)\n        this.setState(prev => ({\n            ...prev,\n            [fieldName]: value,\n        }))\n    }\n\n    render() {\n        const { errorMsg } = this.props\n        const { username, password, redirect } = this.state\n\n        if (redirect) {\n            return <Navigate to={'/list'} />\n        }\n\n        return (\n            <div className=\"loginFormStyle\">\n                {errorMsg && <p>{errorMsg}</p>}\n                <form className=\"formStyle\" onSubmit={this.handleSubmit}>\n                    <input\n                        data-field-name={'username'}\n                        type={'text'}\n                        onChange={this.handleChange}\n                        placeholder={'Имя'}\n                        value={username}\n                    />\n                    <input\n                        data-field-name={'password'}\n                        type={'text'}\n                        onChange={this.handleChange}\n                        placeholder={'Пароль'}\n                        value={password}\n                    />\n                    <button type=\"submit\">Log in</button>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Login\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAO,iBAAP;;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;EAAA;IAAA;IAAA,KAChCC,KADgC,GACxB;MACJC,QAAQ,EAAE,KADN;MAEJC,QAAQ,EAAE,EAFN;MAGJC,QAAQ,EAAE;IAHN,CADwB;;IAAA,KAOhCC,YAPgC,GAOjBC,CAAC,IAAI;MAChBA,CAAC,CAACC,cAAF;MACA,MAAM;QAAEJ,QAAF;QAAYC;MAAZ,IAAyB,KAAKH,KAApC;MACA,KAAKO,KAAL,CAAWC,KAAX,CACI;QACIN,QADJ;QAEIC;MAFJ,CADJ,EAKI,MAAM;QACF,KAAKM,QAAL,CAAc;UAAER,QAAQ,EAAE;QAAZ,CAAd;MACH,CAPL;IASH,CAnB+B;;IAAA,KAqBhCS,YArBgC,GAqBjBL,CAAC,IAAI;MAChB,MAAMM,KAAK,GAAGN,CAAC,CAACO,aAAF,CAAgBD,KAA9B;MACA,MAAME,SAAS,GAAGR,CAAC,CAACO,aAAF,CAAgBE,OAAhB,CAAwBD,SAA1C;MACAE,OAAO,CAACC,GAAR,CAAYH,SAAZ;MACA,KAAKJ,QAAL,CAAcQ,IAAI,KAAK,EACnB,GAAGA,IADgB;QAEnB,CAACJ,SAAD,GAAaF;MAFM,CAAL,CAAlB;IAIH,CA7B+B;EAAA;;EA+BhCO,MAAM,GAAG;IACL,MAAM;MAAEC;IAAF,IAAe,KAAKZ,KAA1B;IACA,MAAM;MAAEL,QAAF;MAAYC,QAAZ;MAAsBF;IAAtB,IAAmC,KAAKD,KAA9C;;IAEA,IAAIC,QAAJ,EAAc;MACV,oBAAO,QAAC,QAAD;QAAU,EAAE,EAAE;MAAd;QAAA;QAAA;QAAA;MAAA,QAAP;IACH;;IAED,oBACI;MAAK,SAAS,EAAC,gBAAf;MAAA,WACKkB,QAAQ,iBAAI;QAAA,UAAIA;MAAJ;QAAA;QAAA;QAAA;MAAA,QADjB,eAEI;QAAM,SAAS,EAAC,WAAhB;QAA4B,QAAQ,EAAE,KAAKf,YAA3C;QAAA,wBACI;UACI,mBAAiB,UADrB;UAEI,IAAI,EAAE,MAFV;UAGI,QAAQ,EAAE,KAAKM,YAHnB;UAII,WAAW,EAAE,KAJjB;UAKI,KAAK,EAAER;QALX;UAAA;UAAA;UAAA;QAAA,QADJ,eAQI;UACI,mBAAiB,UADrB;UAEI,IAAI,EAAE,MAFV;UAGI,QAAQ,EAAE,KAAKQ,YAHnB;UAII,WAAW,EAAE,QAJjB;UAKI,KAAK,EAAEP;QALX;UAAA;UAAA;UAAA;QAAA,QARJ,eAeI;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAfJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAsBH;;AA7D+B;;AAgEpC,eAAeL,KAAf"},"metadata":{},"sourceType":"module"}