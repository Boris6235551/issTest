{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fujitsu\\\\iss_test\\\\src\\\\components\\\\Login.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      redirectToPreviousRoute: false,\n      username: '',\n      password: ''\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      this.props.logIn({\n        username,\n        password\n      }, () => {\n        this.setState({\n          redirectToPreviousRoute: true\n        });\n      });\n    };\n\n    this.handleChange = e => {\n      const value = e.currentTarget.value;\n      const fieldName = e.currentTarget.dataset.fieldName;\n      this.setState(prev => ({ ...prev,\n        [fieldName]: value\n      }));\n    };\n  }\n\n  render() {\n    const {\n      location,\n      errorMsg\n    } = this.props; // const { from } = location.state || { from: { pathname: '/' } }\n\n    const {\n      username,\n      password,\n      redirectToPreviousRoute\n    } = this.state;\n    console.log(this.props);\n\n    if (redirectToPreviousRoute) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: from\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [errorMsg && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-field-name\": 'username',\n          type: 'text',\n          onChange: this.handleChange,\n          placeholder: 'Имя',\n          value: username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-field-name\": 'password',\n          type: 'text',\n          onChange: this.handleChange,\n          placeholder: 'Пароль',\n          value: password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nLogin.propTypes = {\n  logIn: PropTypes.func.isRequired,\n  errorMsg: PropTypes.string\n};\nexport default Login;","map":{"version":3,"names":["React","PropTypes","Navigate","Login","Component","state","redirectToPreviousRoute","username","password","handleSubmit","e","preventDefault","props","logIn","setState","handleChange","value","currentTarget","fieldName","dataset","prev","render","location","errorMsg","console","log","from","propTypes","func","isRequired","string"],"sources":["C:/Users/Fujitsu/iss_test/src/components/Login.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Navigate } from 'react-router-dom'\n\nclass Login extends React.Component {\n  state = {\n    redirectToPreviousRoute: false,\n    username: '',\n    password: '',\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const { username, password } = this.state\n\n    this.props.logIn(\n      {\n        username,\n        password,\n      },\n      () => {\n        this.setState({ redirectToPreviousRoute: true })\n      }\n    )\n  }\n\n  handleChange = e => {\n    const value = e.currentTarget.value\n    const fieldName = e.currentTarget.dataset.fieldName\n\n    this.setState(prev => ({\n      ...prev,\n      [fieldName]: value,\n    }))\n  }\n\n  render() {\n    const { location, errorMsg } = this.props\n    // const { from } = location.state || { from: { pathname: '/' } }\n    const { username, password, redirectToPreviousRoute } = this.state\nconsole.log(this.props)\n    if (redirectToPreviousRoute) {\n      return <Navigate to={from} />\n    }\n\n    return (\n      <div>\n        {errorMsg && <p>{errorMsg}</p>}\n        <form onSubmit={this.handleSubmit}>\n          <input\n            data-field-name={'username'}\n            type={'text'}\n            onChange={this.handleChange}\n            placeholder={'Имя'}\n            value={username}\n          />\n          <input\n            data-field-name={'password'}\n            type={'text'}\n            onChange={this.handleChange}\n            placeholder={'Пароль'}\n            value={password}\n          />\n          <button type=\"submit\">Log in</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nLogin.propTypes = {\n  logIn: PropTypes.func.isRequired,\n  errorMsg: PropTypes.string,\n}\n\nexport default Login\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;EAAA;IAAA;IAAA,KAClCC,KADkC,GAC1B;MACNC,uBAAuB,EAAE,KADnB;MAENC,QAAQ,EAAE,EAFJ;MAGNC,QAAQ,EAAE;IAHJ,CAD0B;;IAAA,KAOlCC,YAPkC,GAOnBC,CAAC,IAAI;MAClBA,CAAC,CAACC,cAAF;MACA,MAAM;QAAEJ,QAAF;QAAYC;MAAZ,IAAyB,KAAKH,KAApC;MAEA,KAAKO,KAAL,CAAWC,KAAX,CACE;QACEN,QADF;QAEEC;MAFF,CADF,EAKE,MAAM;QACJ,KAAKM,QAAL,CAAc;UAAER,uBAAuB,EAAE;QAA3B,CAAd;MACD,CAPH;IASD,CApBiC;;IAAA,KAsBlCS,YAtBkC,GAsBnBL,CAAC,IAAI;MAClB,MAAMM,KAAK,GAAGN,CAAC,CAACO,aAAF,CAAgBD,KAA9B;MACA,MAAME,SAAS,GAAGR,CAAC,CAACO,aAAF,CAAgBE,OAAhB,CAAwBD,SAA1C;MAEA,KAAKJ,QAAL,CAAcM,IAAI,KAAK,EACrB,GAAGA,IADkB;QAErB,CAACF,SAAD,GAAaF;MAFQ,CAAL,CAAlB;IAID,CA9BiC;EAAA;;EAgClCK,MAAM,GAAG;IACP,MAAM;MAAEC,QAAF;MAAYC;IAAZ,IAAyB,KAAKX,KAApC,CADO,CAEP;;IACA,MAAM;MAAEL,QAAF;MAAYC,QAAZ;MAAsBF;IAAtB,IAAkD,KAAKD,KAA7D;IACJmB,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAjB;;IACI,IAAIN,uBAAJ,EAA6B;MAC3B,oBAAO,QAAC,QAAD;QAAU,EAAE,EAAEoB;MAAd;QAAA;QAAA;QAAA;MAAA,QAAP;IACD;;IAED,oBACE;MAAA,WACGH,QAAQ,iBAAI;QAAA,UAAIA;MAAJ;QAAA;QAAA;QAAA;MAAA,QADf,eAEE;QAAM,QAAQ,EAAE,KAAKd,YAArB;QAAA,wBACE;UACE,mBAAiB,UADnB;UAEE,IAAI,EAAE,MAFR;UAGE,QAAQ,EAAE,KAAKM,YAHjB;UAIE,WAAW,EAAE,KAJf;UAKE,KAAK,EAAER;QALT;UAAA;UAAA;UAAA;QAAA,QADF,eAQE;UACE,mBAAiB,UADnB;UAEE,IAAI,EAAE,MAFR;UAGE,QAAQ,EAAE,KAAKQ,YAHjB;UAIE,WAAW,EAAE,QAJf;UAKE,KAAK,EAAEP;QALT;UAAA;UAAA;UAAA;QAAA,QARF,eAeE;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAfF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAsBD;;AA/DiC;;AAkEpCL,KAAK,CAACwB,SAAN,GAAkB;EAChBd,KAAK,EAAEZ,SAAS,CAAC2B,IAAV,CAAeC,UADN;EAEhBN,QAAQ,EAAEtB,SAAS,CAAC6B;AAFJ,CAAlB;AAKA,eAAe3B,KAAf"},"metadata":{},"sourceType":"module"}